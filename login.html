<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TIMENET VIP</title>
    
    <!-- Ù…ÙƒØªØ¨Ø© Ø§Ù„ØªØ´ÙÙŠØ± -->
    <script src="md5.js"></script>

    <style>
        :root {
            /* Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ù„ÙƒÙŠ Ø§Ù„Ø°Ù‡Ø¨ÙŠ */
            --primary: #ffd700;       /* Ø°Ù‡Ø¨ÙŠ */
            --secondary: #b8860b;     /* Ø°Ù‡Ø¨ÙŠ ØºØ§Ù…Ù‚ */
            --accent: #ff0000;        /* Ø£Ø­Ù…Ø± Ù„Ù„ØªÙ…ÙŠØ² */
            
            --bg-deep: #000000;       /* Ø£Ø³ÙˆØ¯ Ù…Ù„ÙƒÙŠ */
            --glass-bg: rgba(20, 20, 20, 0.6);
            --glass-nav: rgba(0, 0, 0, 0.9);
            --border: rgba(255, 215, 0, 0.2); /* Ø­Ø¯ÙˆØ¯ Ø°Ù‡Ø¨ÙŠØ© Ø®ÙÙŠÙØ© */
            --text: #ffffff;
            --text-dim: #cfcfcf;
            --nav-height: 70px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: transparent;
            color: var(--text);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¬ÙˆÙ… (Canvas) */
        #cosmic-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; 
            background: linear-gradient(to bottom, #000000, #1a1a1a);
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .app-container {
            position: relative; z-index: 10;
            width: 100%; max-width: 500px;
            margin: 0 auto;
            height: 100%;
            display: flex; flex-direction: column;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 20px; flex-shrink: 0; z-index: 20;
        }
        
        .menu-btn {
            font-size: 1.6rem; cursor: pointer; background: rgba(0,0,0,0.3);
            width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;
            border-radius: 12px; border: 1px solid var(--border); transition: 0.3s;
            color: var(--primary);
        }
        .menu-btn:hover { background: var(--primary); color: #000; }

        .logo { font-size: 1.8rem; font-weight: 900; letter-spacing: 2px; text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
        .logo span { color: var(--primary); transition: color 0.5s; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .content-area {
            flex: 1; overflow-y: auto; padding: 10px 20px 120px; 
            position: relative; scrollbar-width: none; -webkit-overflow-scrolling: touch;
        }
        .content-area::-webkit-scrollbar { display: none; }

        .tab-page { display: none; animation: fadeIn 0.4s ease; }
        .tab-page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* === Styles for TAB 1: HOME === */
        .glass-card {
            background: var(--glass-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border); border-radius: 25px; padding: 25px 20px;
            text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5); margin-top: 10px;
        }

        /* Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (ØµÙˆØ±/Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª) */
        .ad-carousel-container {
            width: 100%; margin-bottom: 25px; position: relative;
            border-radius: 20px; overflow: hidden; border: 1px solid var(--border);
            box-shadow: 0 5px 20px rgba(0,0,0,0.5); height: 140px;
            background: rgba(0,0,0,0.3);
        }

        .ad-carousel {
            display: flex; width: 100%; height: 100%;
            overflow-x: auto; scroll-snap-type: x mandatory;
            scrollbar-width: none; -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
        }
        .ad-carousel::-webkit-scrollbar { display: none; }

        .ad-card {
            min-width: 100%; height: 100%;
            background: linear-gradient(135deg, #1a1a1a, #000);
            display: flex; align-items: center; justify-content: flex-start;
            padding: 0 25px; box-sizing: border-box; scroll-snap-align: center;
            position: relative;
        }

        .ad-icon {
            font-size: 3rem; margin-left: 20px;
            filter: drop-shadow(0 0 15px rgba(255,255,255,0.2));
            animation: bounce 2s infinite;
        }
        
        .ad-content h4 { color: var(--primary); font-size: 1.1rem; margin-bottom: 5px; font-weight: 900; }
        .ad-content p { color: #eee; font-size: 0.85rem; font-weight: bold; }

        .ad-dots {
            position: absolute; bottom: 10px; left: 0; width: 100%;
            display: flex; justify-content: center; gap: 6px; z-index: 2; pointer-events: none;
        }
        .dot { width: 8px; height: 8px; background: rgba(255,255,255,0.3); border-radius: 50%; transition: 0.3s; }
        .dot.active { background: var(--primary); width: 25px; border-radius: 10px; }

        .neon-input {
            width: 100%; padding: 15px; background: rgba(0,0,0,0.5);
            border: 1px solid var(--border); border-radius: 15px;
            color: var(--primary); font-size: 1.2rem; font-weight: bold;
            text-align: center; margin-bottom: 20px; transition: 0.3s; letter-spacing: 2px;
        }
        .neon-input:focus { border-color: var(--primary); box-shadow: 0 0 15px rgba(255, 215, 0, 0.2); outline: none; }
        .neon-input::placeholder { color: #666; font-weight: normal; letter-spacing: 0; }

        .btn-main {
            width: 100%; padding: 15px; border-radius: 50px; border: none;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: #000; font-weight: 900; font-size: 1.1rem; cursor: pointer;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.2); transition: 0.3s;
        }
        .btn-main:active { transform: scale(0.98); }

        /* Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙÙŠÙ‡ */
        .ent-banner {
            margin-top: 25px; background: rgba(0,0,0,0.6);
            border: 1px solid var(--border); border-radius: 18px; padding: 15px;
            display: flex; align-items: center; gap: 15px; text-decoration: none;
            transition: 0.3s; position: relative; overflow: hidden;
        }
        .ent-banner::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--primary); }
        .ent-banner:active { transform: scale(0.98); background: rgba(255,255,255,0.05); }
        .ent-icon { font-size: 1.8rem; animation: pulse 2s infinite; }
        .ent-info h4 { font-size: 1rem; color: var(--primary); margin-bottom: 2px; font-weight: bold; }
        .ent-info p { font-size: 0.75rem; color: #fff; }

        /* === Styles for OTHER TABS === */
        .plans-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .plan-item {
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(0,0,0,0.6); border: 1px solid var(--border);
            border-radius: 20px; padding: 15px 20px; cursor: pointer; transition: 0.2s;
        }
        .plan-item:active { transform: scale(0.98); border-color: var(--primary); box-shadow: 0 0 10px rgba(255, 215, 0, 0.2); }
        .plan-left { display: flex; align-items: center; gap: 15px; }
        .p-badge { width: 45px; height: 45px; background: rgba(255,215,0,0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; color: var(--primary); border: 1px solid rgba(255,215,0,0.1); }
        .p-det h4 { font-size: 1.1rem; font-weight: bold; color: #fff; }
        .p-det span { font-size: 0.85rem; color: var(--primary); }
        .p-price { font-size: 1.3rem; font-weight: 900; color: #fff; text-shadow: 0 0 5px rgba(0,0,0,0.5); }

        .info-card { background: rgba(0,0,0,0.6); border: 1px solid var(--border); border-radius: 20px; padding: 20px; margin-bottom: 15px; }
        .info-title { color: var(--primary); font-weight: bold; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
        .info-text { font-size: 0.9rem; color: #ddd; line-height: 1.6; }
        
        .contact-btn {
            display: block; width: 100%; padding: 14px; text-align: center;
            background: rgba(255,255,255,0.05); border-radius: 12px; margin-bottom: 10px;
            text-decoration: none; color: white; font-weight: bold; border: 1px solid var(--border); transition: 0.3s;
        }
        .contact-btn:hover { background: var(--primary); color: #000; }
        .contact-btn.wa { border-color: #25D366; color: #25D366; }
        .contact-btn.wa:hover { background: #25D366; color: #fff; }

        /* === BOTTOM NAVIGATION === */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; height: var(--nav-height);
            background: var(--glass-nav); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid var(--border); display: flex; justify-content: space-around; align-items: center;
            z-index: 100; padding-bottom: 5px;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #666; text-decoration: none; width: 20%; height: 100%; position: relative; transition: 0.3s;
        }
        .nav-item svg { width: 24px; height: 24px; fill: currentColor; margin-bottom: 4px; transition: 0.3s; }
        .nav-item span { font-size: 0.7rem; font-weight: 600; }
        .nav-item.active { color: var(--primary); }
        .nav-item.active svg { transform: translateY(-5px); filter: drop-shadow(0 0 5px var(--primary)); }
        
        /* Main Home Button */
        .nav-item.main-home { position: relative; top: -25px; }
        .nav-item.main-home .circle {
            width: 60px; height: 60px; background: linear-gradient(135deg, var(--secondary), var(--primary));
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3); border: 4px solid #000; color: #000; transition: 0.5s;
        }
        .nav-item.main-home.active .circle { box-shadow: 0 0 25px var(--primary); transform: scale(1.1); }

        /* === Side Menu === */
        .side-menu {
            position: fixed; top: 0; right: -100%; width: 85%; max-width: 320px; height: 100%;
            background: rgba(10, 10, 10, 0.98); backdrop-filter: blur(10px);
            z-index: 1100; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 1px solid var(--border); padding: 25px;
            box-shadow: -10px 0 40px rgba(0,0,0,0.8); display: flex; flex-direction: column; overflow-y: auto;
        }
        .side-menu.open { right: 0; }
        
        .menu-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 1000; opacity: 0; pointer-events: none; transition: 0.3s;
        }
        .menu-overlay.open { opacity: 1; pointer-events: auto; }

        .menu-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 25px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; color: var(--primary);
        }
        .menu-section { margin-bottom: 25px; background: rgba(255,255,255,0.03); padding: 15px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.05); }
        .menu-label { font-size: 0.85rem; color: #fff; margin-bottom: 12px; display: block; font-weight: bold; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 8px; }

        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø© */
        .speed-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .speed-opt {
            background: rgba(0,0,0,0.3); border: 1px solid var(--border); padding: 10px;
            border-radius: 10px; text-align: center; cursor: pointer; transition: 0.2s;
            font-size: 0.8rem; color: var(--text-dim);
        }
        .speed-opt.active { background: var(--primary); color: #000; font-weight: bold; border-color: var(--primary); }

        /* ØµÙ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª */
        .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; color: #ddd; font-size: 0.9rem; }
        .setting-row:last-child { margin-bottom: 0; }
        
        /* Ø²Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ */
        .switch { position: relative; display: inline-block; width: 40px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary); }
        input:checked + .slider:before { transform: translateX(20px); }

        /* Ø²Ø± Ø§Ù„Ø±Ø¨Ø· */
        .bind-btn { background: rgba(255,255,255,0.1); border: 1px solid var(--border); color: var(--primary); padding: 5px 12px; border-radius: 15px; font-size: 0.75rem; cursor: pointer; }

        /* Ø§Ù„Ø«ÙŠÙ…Ø§Øª */
        .theme-grid { display: flex; gap: 10px; justify-content: flex-start; flex-wrap: wrap; }
        .theme-circle { width: 35px; height: 35px; border-radius: 50%; cursor: pointer; border: 2px solid rgba(255,255,255,0.2); transition: 0.3s; }
        .theme-circle:hover { transform: scale(1.1); border-color: #fff; }

        /* Toast */
        #toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px);
            background: var(--accent); color: white; padding: 10px 30px; border-radius: 50px;
            z-index: 2000; transition: 0.4s; font-weight: bold; border: 1px solid #fff; box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        #toast.show { transform: translateX(-50%) translateY(0); }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

    </style>
</head>
<body>

    <!-- Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¬ÙˆÙ… -->
    <canvas id="cosmic-canvas"></canvas>
    <div id="toast">ğŸ”” <span id="toast-msg"></span></div>
    
    <div class="menu-overlay" id="menu-overlay" onclick="toggleMenu()"></div>

    <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <div class="side-menu" id="side-menu">
        <div class="menu-header">
            <h3>Ø®ÙŠØ§Ø±Ø§Øª VIP</h3>
            <span onclick="toggleMenu()" style="cursor:pointer; font-size:1.5rem; color:#fff;">&times;</span>
        </div>

        <!-- 1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø© -->
        <div class="menu-section">
            <span class="menu-label">ğŸš€ ÙˆØ¶Ø¹ Ø§Ù„Ø³Ø±Ø¹Ø©</span>
            <div class="speed-grid">
                <div class="speed-opt active" onclick="setSpeed(this, 'normal')">ØªÙ„Ù‚Ø§Ø¦ÙŠ</div>
                <div class="speed-opt" onclick="setSpeed(this, 'gaming')">Ø£Ù„Ø¹Ø§Ø¨ ğŸ®</div>
                <div class="speed-opt" onclick="setSpeed(this, 'stream')">Ø¨Ø« Ù…Ø¨Ø§Ø´Ø± ğŸ“º</div>
                <div class="speed-opt" onclick="setSpeed(this, 'download')">ØªØ­Ù…ÙŠÙ„ â¬‡ï¸</div>
            </div>
        </div>

        <!-- 2. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒØ±Øª ÙˆØ§Ù„Ø¬Ù‡Ø§Ø² -->
        <div class="menu-section">
            <span class="menu-label">ğŸ›¡ï¸ Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ§Ù„Ø£Ù…Ø§Ù†</span>
            <div class="setting-row">
                <span>Ø­ÙØ¸ Ø§Ù„ÙƒØ±Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</span>
                <label class="switch">
                    <input type="checkbox" id="save-card-check" onchange="toggleSaveCard(this.checked)">
                    <span class="slider round"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>Ø±Ø¨Ø· Ø§Ù„ÙƒØ±Øª Ø¨Ø§Ù„Ø¬Ù‡Ø§Ø²</span>
                <button class="bind-btn" onclick="bindDevice()">ØªÙØ¹ÙŠÙ„</button>
            </div>
        </div>

        <!-- 3. Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
        <div class="menu-section">
            <span class="menu-label">âš™ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</span>
            <div class="setting-row">
                <span>ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø±ØµÙŠØ¯</span>
                <label class="switch">
                    <input type="checkbox" checked>
                    <span class="slider round"></span>
                </label>
            </div>
            <div class="setting-row">
                <span>ÙˆØ¶Ø¹ ØªÙˆÙÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider round"></span>
                </label>
            </div>
        </div>

        <!-- 4. Ø§Ù„Ø«ÙŠÙ…Ø§Øª -->
        <div class="menu-section">
            <span class="menu-label">ğŸ¨ Ù„ÙˆÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
            <div class="theme-grid">
                <div class="theme-circle" style="background: linear-gradient(135deg, #ff8c00, #ffd700); border-color: #ffd700;" onclick="setTheme('gold')"></div>
                <div class="theme-circle" style="background: linear-gradient(135deg, #0575e6, #00f260);" onclick="setTheme('green')"></div>
                <div class="theme-circle" style="background: linear-gradient(135deg, #0072ff, #00c6ff);" onclick="setTheme('blue')"></div>
                <div class="theme-circle" style="background: linear-gradient(135deg, #651fff, #d500f9);" onclick="setTheme('purple')"></div>
                <div class="theme-circle" style="background: linear-gradient(135deg, #ff416c, #ff4b2b);" onclick="setTheme('red')"></div>
            </div>
        </div>
        
        <div style="margin-top:auto; font-size:0.8rem; color:#666; text-align:center;">
            TIMENET VIP V5.0
        </div>
    </div>

    <div class="app-container">
        <header>
            <div class="menu-btn" onclick="toggleMenu()">&#9776;</div>
            <div class="logo">TIME<span>NET</span></div>
            <div style="width: 45px;"></div>
        </header>

        <div class="content-area">
            
            <!-- 1. Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
            <section id="page-home" class="tab-page active">
                <div class="glass-card">
                    $(if username)
                    <div style="padding: 20px 0;">
                        <h2 style="margin-bottom: 10px; color: var(--primary);">Ø£Ù‡Ù„Ø§Ù‹ $(username)</h2>
                        <div style="font-size: 0.9rem; color: #ccc; margin-bottom: 20px;">Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</div>
                        
                        <div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid rgba(255,255,255,0.1);">
                            <span>Ø§Ù„ÙˆÙ‚Øª</span> <span style="color:var(--primary); font-weight:bold;">$(uptime)</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid rgba(255,255,255,0.1);">
                            <span>Ø§Ù„ØªØ­Ù…ÙŠÙ„</span> <span style="color:var(--primary); font-weight:bold;">$(bytes-out-nice)</span>
                        </div>

                        <form action="$(link-logout)" name="logout" style="margin-top: 25px;">
                            <input type="hidden" name="erase-cookie" value="on">
                            <button type="submit" class="btn-main" style="background: var(--accent); color:#fff;">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
                        </form>
                    </div>
                    $(else)
                    
                    <!-- Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (ØµÙˆØ±/Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª) -->
                    <div class="ad-carousel-container">
                        <div class="ad-carousel" id="adCarousel">
                            <!-- Ø´Ø±ÙŠØ­Ø© 1 -->
                            <div class="ad-card" style="background: linear-gradient(135deg, #1a1a1a, #000);">
                                <div class="ad-icon">ğŸ”¥</div>
                                <div class="ad-content">
                                    <h4>Ø¹Ø±Ø¶ Ø®Ø§Øµ VIP</h4>
                                    <p>Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</p>
                                </div>
                            </div>
                            <!-- Ø´Ø±ÙŠØ­Ø© 2 -->
                            <div class="ad-card" style="background: linear-gradient(135deg, #0f0c29, #302b63);">
                                <div class="ad-icon">ğŸ®</div>
                                <div class="ad-content">
                                    <h4>ÙˆØ¶Ø¹ Ø§Ù„Ø¬ÙŠÙ…Ø±</h4>
                                    <p>Ø¨ÙŠÙ†Ø¬ Ù…Ù†Ø®ÙØ¶ ÙˆØ«Ø¨Ø§Øª Ø¹Ø§Ù„ÙŠ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</p>
                                </div>
                            </div>
                            <!-- Ø´Ø±ÙŠØ­Ø© 3 -->
                            <div class="ad-card" style="background: linear-gradient(135deg, #11998e, #38ef7d);">
                                <div class="ad-icon">ğŸ</div>
                                <div class="ad-content">
                                    <h4>Ù‡Ø¯ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©</h4>
                                    <p>Ø³Ø§Ø¹Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù†Ø¯ Ø±Ø¨Ø· Ø¬Ù‡Ø§Ø²Ùƒ</p>
                                </div>
                            </div>
                        </div>
                        <!-- Ø§Ù„Ù†Ù‚Ø§Ø· -->
                        <div class="ad-dots" id="adDots">
                            <span class="dot active"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                    </div>

                    <h3 style="margin-bottom: 20px; color: #fff;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
                    <form name="login" action="$(link-login-only)" method="post" onsubmit="return tryLogin()">
                        <input type="hidden" name="dst" value="$(link-orig)">
                        <input type="hidden" name="popup" value="true">
                        <input type="hidden" name="password">

                        <input type="text" name="username" id="code-input" class="neon-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ÙƒØ±Øª" autocomplete="off" required>
                        <button type="submit" class="btn-main" id="login-btn">Ø§ØªØµØ§Ù„</button>
                    </form>
                    $(endif)
                </div>

                <!-- Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙÙŠÙ‡ -->
                <a href="http://10.10.10.10" class="ent-banner">
                    <div class="ent-icon">ğŸ¬</div>
                    <div class="ent-info">
                        <h4>Ù…Ø±ÙƒØ² Ø§Ù„ØªØ±ÙÙŠÙ‡</h4>
                        <p>Ø³ÙŠÙ†Ù…Ø§ ÙˆÙ…Ø¨Ø§Ø±ÙŠØ§Øª Ù…Ø¬Ø§Ù†ÙŠØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø¨ÙƒØ©</p>
                    </div>
                    <div style="margin-right:auto; color:var(--primary);">â”</div>
                </a>
            </section>

            <!-- 2. Ø§Ù„Ø¨Ø§Ù‚Ø§Øª -->
            <section id="page-plans" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center; color: var(--primary);">Ø¨Ø§Ù‚Ø§Øª VIP</h3>
                <div class="plans-grid" id="plans-container">
                    <!-- JS Generated -->
                </div>
            </section>

            <!-- 3. Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª -->
            <section id="page-help" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center; color: var(--primary);">Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª</h3>
                <div class="info-card">
                    <div class="info-title">ğŸ’¡ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§ØªØµØ§Ù„</div>
                    <div class="info-text">1. Ø§Ø´ØªØ±Ù ÙƒØ±Øª Ù…Ù† Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹.<br>2. Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©.<br>3. Ø§Ø¶ØºØ· Ø²Ø± Ø§ØªØµØ§Ù„.</div>
                </div>
                <div class="info-card">
                    <div class="info-title">ğŸ”’ Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©</div>
                    <div class="info-text">Ø§Ù„ÙƒØ±Øª ÙŠØ±ØªØ¨Ø· Ø¨Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø°ÙŠ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠÙ‡ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ Ø¬Ù‡Ø§Ø² Ø¢Ø®Ø±.</div>
                </div>
            </section>

            <!-- 4. Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ -->
            <section id="page-loc" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center; color: var(--primary);">Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h3>
                <div class="info-card">
                    <div class="info-title">ğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</div>
                    <ul style="list-style: none; padding: 0; color: #ccc;">
                        <li style="padding:5px 0;">â€¢ Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</li>
                        <li style="padding:5px 0;">â€¢ Ø¨Ù‚Ø§Ù„Ø© Ø§Ù„ØªÙˆÙÙŠÙ‚</li>
                    </ul>
                </div>
            </section>

            <!-- 5. ØªÙˆØ§ØµÙ„ -->
            <section id="page-contact" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center; color: var(--primary);">Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
                <div class="info-card" style="text-align: center;">
                    <p style="margin-bottom: 15px; color: #ccc;">Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ø®Ø¯Ù…ØªÙƒ 24/7</p>
                    <a href="tel:777019176" class="contact-btn">ğŸ“ Ø§ØªØµØ§Ù„: 777019176</a>
                    <a href="https://wa.me/967777019176" class="contact-btn wa">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</a>
                </div>
            </section>

        </div>

        <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ -->
        <nav class="bottom-nav">
            <div class="nav-item" onclick="switchTab('page-contact', this)">
                <svg viewBox="0 0 24 24"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.28-.26.36-.65.25-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 12h2a9 9 0 0 0-9-9v2c3.87 0 7 3.13 7 7zm-4 0h2c0-2.76-2.24-5-5-5v2c1.66 0 3 1.34 3 3z"/></svg>
                <span>ØªÙˆØ§ØµÙ„</span>
            </div>
            <div class="nav-item" onclick="switchTab('page-loc', this)">
                <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                <span>Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹</span>
            </div>
            <div class="nav-item main-home active" onclick="switchTab('page-home', this)">
                <div class="circle">
                    <svg viewBox="0 0 24 24" style="width:28px; height:28px; margin:0; fill:#000;"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                </div>
            </div>
            <div class="nav-item" onclick="switchTab('page-plans', this)">
                <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/></svg>
                <span>Ø§Ù„ÙƒØ±ÙˆØª</span>
            </div>
            <div class="nav-item" onclick="switchTab('page-help', this)">
                <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>
                <span>ØªØ¹Ù„ÙŠÙ…Ø§Øª</span>
            </div>
        </nav>

    </div>

    <!-- Ù…ÙŠÙƒØ±ÙˆØªÙƒ -->
    <form name="sendin" action="$(link-login-only)" method="post" style="display:none">
        <input type="hidden" name="username" />
        <input type="hidden" name="password" />
        <input type="hidden" name="dst" value="$(link-orig)" />
        <input type="hidden" name="popup" value="true" />
    </form>

    <script>
        // --- 1. Canvas Stars (Scoped) ---
        (function() {
            const canvas = document.getElementById('cosmic-canvas');
            if(!canvas) return;
            const ctx = canvas.getContext('2d');
            let cvsW, cvsH, stars = []; 
            
            function initC() { 
                cvsW = canvas.width = window.innerWidth; 
                cvsH = canvas.height = window.innerHeight; 
                stars=[]; 
                for(let i=0;i<60;i++) stars.push({x:Math.random()*cvsW, y:Math.random()*cvsH, r:Math.random()*2, s:Math.random()*0.5+0.1}); 
            }
            
            function animC() {
                ctx.clearRect(0,0,cvsW,cvsH);
                var g=ctx.createLinearGradient(0,0,0,cvsH); 
                g.addColorStop(0,'#000000'); 
                g.addColorStop(1,'#1a1a1a'); 
                ctx.fillStyle=g; 
                ctx.fillRect(0,0,cvsW,cvsH);
                ctx.fillStyle='#ffd700'; 
                stars.forEach(s=>{ 
                    ctx.beginPath(); 
                    ctx.arc(s.x,s.y,s.r,0,6.28); 
                    ctx.fill(); 
                    s.y-=s.s; 
                    if(s.y<0) s.y=cvsH; 
                });
                requestAnimationFrame(animC);
            }
            
            window.addEventListener('resize', initC);
            initC(); 
            animC();
        })();

        // --- 2. Menu ---
        function toggleMenu() {
            document.getElementById('side-menu').classList.toggle('open');
            document.getElementById('menu-overlay').classList.toggle('open');
        }

        // --- 3. Themes & Settings ---
        const themes = {
            gold:  { p: '#ffd700', s: '#b8860b', a: '#ff0000' },
            green: { p: '#00f260', s: '#0575e6', a: '#f80759' },
            blue:  { p: '#00c6ff', s: '#0072ff', a: '#00d2ff' },
            purple:{ p: '#d500f9', s: '#651fff', a: '#aa00ff' },
            red:   { p: '#ff4b2b', s: '#ff416c', a: '#ff9068' }
        };

        function setTheme(name) {
            const t = themes[name];
            const root = document.documentElement;
            root.style.setProperty('--primary', t.p);
            root.style.setProperty('--secondary', t.s);
            root.style.setProperty('--accent', t.a);
            localStorage.setItem('timenet_theme', name);
            showToast("ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ÙˆÙ† " + name);
        }

        function setSpeed(el, mode) {
            document.querySelectorAll('.speed-opt').forEach(e => e.classList.remove('active'));
            el.classList.add('active');
            localStorage.setItem('timenet_speed', mode);
            showToast("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ÙˆØ¶Ø¹: " + el.innerText);
        }

        function toggleSaveCard(checked) {
            localStorage.setItem('timenet_save_card', checked);
            if(!checked) localStorage.removeItem('timenet_saved_code');
            showToast(checked ? "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ" : "ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ");
        }

        function bindDevice() {
            showToast("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø±Ø¨Ø· Ø§Ù„Ø¬Ù‡Ø§Ø² âœ…");
        }

        // --- 4. Tabs ---
        function switchTab(pageId, navEl) {
            document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            if(navEl) navEl.classList.add('active');
        }

        // --- 5. Plans ---
        const plans = [
            { p: 100, t: "3 Ø³Ø§Ø¹Ø§Øª", mb: "300 MB", i: "ğŸ¥‰" },
            { p: 200, t: "7 Ø³Ø§Ø¹Ø§Øª", mb: "700 MB", i: "ğŸ¥ˆ" },
            { p: 500, t: "20 Ø³Ø§Ø¹Ø©", mb: "2 GB", i: "ğŸ¥‡" },
            { p: 1000, t: "50 Ø³Ø§Ø¹Ø©", mb: "4 GB", i: "ğŸ’ " },
            { p: 3000, t: "Ø´Ù‡Ø± ÙƒØ§Ù…Ù„", mb: "Ù…ÙØªÙˆØ­", i: "ğŸ‘‘" }
        ];

        function renderPlans() {
            const c = document.getElementById('plans-container');
            c.innerHTML = plans.map(p => `
                <div class="plan-item" onclick="fillCode('${p.p}')">
                    <div class="plan-left">
                        <div class="p-badge">${p.i}</div>
                        <div class="p-det">
                            <h4>${p.t}</h4>
                            <span>${p.mb}</span>
                        </div>
                    </div>
                    <div class="p-price">${p.p} <small style="font-size:0.8rem; color:#aaa;">Ø±.ÙŠ</small></div>
                </div>
            `).join('');
        }

        function fillCode(val) {
            switchTab('page-home', document.querySelector('.main-home'));
            setTimeout(() => {
                const inp = document.getElementById('code-input');
                if(inp) { inp.value = ""; inp.focus(); showToast("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± " + val); }
            }, 300);
        }

        // --- 6. Login ---
        function tryLogin() {
            const u = document.login.username.value.trim();
            if(!u) { showToast("Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹"); return false; }
            if(localStorage.getItem('timenet_save_card') === 'true') {
                localStorage.setItem('timenet_saved_code', u);
            }
            document.getElementById('login-btn').innerText = "...";
            if ("$(chap-id)" !== "") {
                document.sendin.username.value = u;
                document.sendin.password.value = hexMD5("$(chap-id)" + u + "$(chap-challenge)");
                document.sendin.submit();
                return false;
            }
            document.login.password.value = u;
            return true;
        }

        function showToast(m) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = m;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        window.onload = () => {
            renderPlans();
            const err = "$(error)";
            if(err && err !== "$(error)") showToast(err);

            const savedTheme = localStorage.getItem('timenet_theme');
            if(savedTheme) setTheme(savedTheme);

            const savedCode = localStorage.getItem('timenet_saved_code');
            const saveEnabled = localStorage.getItem('timenet_save_card') === 'true';
            if(document.getElementById('save-card-check')) document.getElementById('save-card-check').checked = saveEnabled;
            if(savedCode && saveEnabled && document.getElementById('code-input')) document.getElementById('code-input').value = savedCode;
        };

        // --- 7. Auto Scroll & Carousel Logic ---
        (function() {
            function initSlider() {
                const carousel = document.getElementById('adCarousel');
                const dots = document.querySelectorAll('.dot');
                const cards = document.querySelectorAll('.ad-card');
                
                if(!carousel || cards.length === 0) return;

                let scrollInterval;
                let isPaused = false;
                const intervalTime = 3000; 

                // Function to move to next slide
                function scrollNext() {
                    if (isPaused) return;

                    const cardWidth = carousel.offsetWidth;
                    const currentScroll = carousel.scrollLeft;
                    const maxScroll = carousel.scrollWidth - cardWidth;
                    
                    // Determine current index based on scroll position
                    let currentIndex = Math.round(currentScroll / cardWidth);
                    
                    // Calculate next index
                    let nextIndex = currentIndex + 1;
                    
                    // Loop back if at the end
                    if (nextIndex >= cards.length) {
                        nextIndex = 0;
                    }

                    // Scroll to exact position
                    carousel.scrollTo({
                        left: nextIndex * cardWidth,
                        behavior: 'smooth'
                    });
                    
                    updateDots(nextIndex);
                }

                function updateDots(index) {
                    dots.forEach((d, i) => {
                        if(i === index) d.classList.add('active');
                        else d.classList.remove('active');
                    });
                }

                function startAutoScroll() {
                    clearInterval(scrollInterval);
                    scrollInterval = setInterval(scrollNext, intervalTime);
                }

                // Listen for manual scroll to update dots
                carousel.addEventListener('scroll', () => {
                    if (!isPaused) { 
                        // Only update dots on scroll if not currently animating via JS, 
                        // actually, strictly updating on scroll is safer for manual swipes
                        const cardWidth = carousel.offsetWidth;
                        const index = Math.round(carousel.scrollLeft / cardWidth);
                        updateDots(index);
                    }
                });

                // Pause interactions
                carousel.addEventListener('touchstart', () => { isPaused = true; clearInterval(scrollInterval); });
                carousel.addEventListener('touchend', () => { isPaused = false; startAutoScroll(); });
                carousel.addEventListener('mouseenter', () => { isPaused = true; clearInterval(scrollInterval); });
                carousel.addEventListener('mouseleave', () => { isPaused = false; startAutoScroll(); });

                startAutoScroll();
            }

            // Init with slight delay to ensure layout is settled
            setTimeout(initSlider, 100); 
        })();

    </script>
</body>
</html>
