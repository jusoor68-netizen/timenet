<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TIMENET APP</title>
    
    <!-- Ù…ÙƒØªØ¨Ø© Ø§Ù„ØªØ´ÙÙŠØ± -->
    <script src="md5.js"></script>

    <style>
        :root {
            --primary: #00f260;
            --secondary: #0575e6;
            --accent: #f80759;
            --bg-deep: #050505;
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-nav: rgba(15, 12, 41, 0.85);
            --border: rgba(255, 255, 255, 0.15);
            --text: #ffffff;
            --text-dim: #9ca3af;
            --nav-height: 70px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-deep);
            color: var(--text);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¬ÙˆÙ… */
        #cosmic-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .app-container {
            position: relative; z-index: 10;
            width: 100%; max-width: 500px;
            margin: 0 auto;
            height: 100%;
            display: flex; flex-direction: column;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            text-align: center; padding: 20px 0 10px;
            flex-shrink: 0;
        }
        .logo { font-size: 1.8rem; font-weight: 900; letter-spacing: 2px; text-shadow: 0 0 15px rgba(5, 117, 230, 0.8); }
        .logo span { color: var(--primary); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ØªØºÙŠØ± (Pages) */
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 10px 20px 100px; /* Ù…Ø³Ø§ÙØ© Ø³ÙÙ„ÙŠØ© Ø¹Ø´Ø§Ù† Ø§Ù„Ù†Ø§Ù Ø¨Ø§Ø± */
            position: relative;
            scrollbar-width: none;
        }
        .content-area::-webkit-scrollbar { display: none; }

        /* Ø¥Ø®ÙØ§Ø¡ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tab-page {
            display: none;
            animation: fadeIn 0.4s ease;
        }
        .tab-page.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* === Styles for TAB 1: HOME (LOGIN) === */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--border); border-radius: 25px;
            padding: 25px 20px; text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-top: 10px;
        }

        .neon-input {
            width: 100%; padding: 15px;
            background: rgba(0,0,0,0.3); border: 1px solid var(--border);
            border-radius: 15px; color: #fff; font-size: 1.1rem;
            text-align: center; margin-bottom: 20px; transition: 0.3s;
        }
        .neon-input:focus { border-color: var(--primary); background: rgba(0,0,0,0.5); outline: none; }

        .btn-main {
            width: 100%; padding: 15px; border-radius: 50px; border: none;
            background: linear-gradient(90deg, var(--secondary), #00c6ff);
            color: #fff; font-weight: 800; font-size: 1rem; cursor: pointer;
            box-shadow: 0 5px 15px rgba(5, 117, 230, 0.3);
        }

        /* Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø§Ù„Ù…ØµØºØ± */
        .mini-slider { height: 30px; overflow: hidden; position: relative; margin-top: 15px; }
        .slide-txt { position: absolute; width: 100%; top: 100%; opacity: 0; transition: 0.5s; font-size: 0.8rem; color: var(--text-dim); }
        .slide-txt.active { top: 0; opacity: 1; }

        /* Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙÙŠÙ‡ ÙÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .ent-banner {
            margin-top: 20px; background: rgba(255,255,255,0.05);
            border: 1px solid var(--border); border-radius: 18px; padding: 15px;
            display: flex; align-items: center; gap: 15px; text-decoration: none;
        }
        .ent-icon { font-size: 1.5rem; animation: pulse 2s infinite; }
        .ent-info h4 { font-size: 0.9rem; color: #fff; margin-bottom: 2px; }
        .ent-info p { font-size: 0.7rem; color: var(--text-dim); }

        /* === Styles for TAB 2: PLANS === */
        .plans-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .plan-item {
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(255,255,255,0.05); border: 1px solid var(--border);
            border-radius: 20px; padding: 15px 20px; cursor: pointer; transition: 0.2s;
        }
        .plan-item:active { transform: scale(0.98); background: rgba(0, 242, 96, 0.1); border-color: var(--primary); }
        .plan-left { display: flex; align-items: center; gap: 15px; }
        .p-badge { width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .p-det h4 { font-size: 1.1rem; font-weight: bold; }
        .p-det span { font-size: 0.8rem; color: var(--text-dim); }
        .p-price { font-size: 1.2rem; font-weight: 900; color: var(--primary); }

        /* === Styles for TAB 3: HELP & LOCATIONS & CONTACT === */
        .info-card {
            background: rgba(255,255,255,0.05); border-radius: 20px; padding: 20px; margin-bottom: 15px;
        }
        .info-title { color: var(--primary); font-weight: bold; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .info-text { font-size: 0.9rem; color: #ddd; line-height: 1.6; }
        .step-row { display: flex; gap: 15px; margin-bottom: 15px; align-items: flex-start; }
        .step-num { background: var(--secondary); width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; flex-shrink: 0; }
        
        .contact-btn {
            display: block; width: 100%; padding: 12px; text-align: center;
            background: rgba(255,255,255,0.1); border-radius: 12px; margin-bottom: 10px;
            text-decoration: none; color: white; font-weight: bold; border: 1px solid var(--border);
        }
        .contact-btn.wa { background: #25D366; border-color: #25D366; color: #fff; }

        /* === BOTTOM NAVIGATION === */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%;
            height: var(--nav-height);
            background: var(--glass-nav);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid var(--border);
            display: flex; justify-content: space-around; align-items: center;
            z-index: 100;
            padding-bottom: 5px; /* Ø±ÙØ¹ Ø¨Ø³ÙŠØ· Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
        }

        .nav-item {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: var(--text-dim); text-decoration: none;
            width: 20%; height: 100%; position: relative;
            transition: 0.3s;
        }

        .nav-item svg { width: 24px; height: 24px; fill: currentColor; margin-bottom: 4px; transition: 0.3s; }
        .nav-item span { font-size: 0.7rem; font-weight: 600; }

        /* Active State */
        .nav-item.active { color: var(--primary); }
        .nav-item.active svg { transform: translateY(-5px); filter: drop-shadow(0 0 8px var(--primary)); }
        
        /* Main Home Button (Center) */
        .nav-item.main-home { 
            position: relative; top: -20px; 
        }
        .nav-item.main-home .circle {
            width: 55px; height: 55px;
            background: linear-gradient(135deg, var(--secondary), #00c6ff);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            border: 4px solid var(--bg-deep); /* ÙŠØ¯Ù…Ø¬ Ù…Ø¹ Ø§Ù„Ø®Ù„ÙÙŠØ© */
            color: #fff;
        }
        .nav-item.main-home.active .circle {
            background: linear-gradient(135deg, var(--primary), #00b09b);
            box-shadow: 0 0 20px rgba(0, 242, 96, 0.4);
        }

        /* Toast */
        #toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px);
            background: var(--accent); color: white; padding: 10px 25px; border-radius: 50px;
            z-index: 2000; transition: 0.4s; font-weight: bold;
        }
        #toast.show { transform: translateX(-50%) translateY(0); }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

    </style>
</head>
<body>

    <canvas id="cosmic-canvas"></canvas>
    <div id="toast">âš ï¸ <span id="toast-msg"></span></div>

    <div class="app-container">
        <header>
            <div class="logo">TIME<span>NET</span></div>
        </header>

        <div class="content-area">
            
            <!-- 1. ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„) -->
            <section id="page-home" class="tab-page active">
                <div class="glass-card">
                    $(if username)
                    <div style="padding: 20px 0;">
                        <h2 style="margin-bottom: 10px;">Ø£Ù‡Ù„Ø§Ù‹ $(username)</h2>
                        <div style="font-size: 0.9rem; color: var(--text-dim); margin-bottom: 20px;">Ø­Ø§Ù„Ø© Ø§ØªØµØ§Ù„Ùƒ Ø§Ù„Ø¢Ù†</div>
                        
                        <div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid rgba(255,255,255,0.1);">
                            <span>Ø§Ù„ÙˆÙ‚Øª</span> <span style="color:var(--primary)">$(uptime)</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid rgba(255,255,255,0.1);">
                            <span>Ø§Ù„ØªØ­Ù…ÙŠÙ„</span> <span style="color:var(--primary)">$(bytes-out-nice)</span>
                        </div>

                        <form action="$(link-logout)" name="logout" style="margin-top: 25px;">
                            <input type="hidden" name="erase-cookie" value="on">
                            <button type="submit" class="btn-main" style="background: var(--accent);">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
                        </form>
                    </div>
                    $(else)
                    <h3 style="margin-bottom: 20px;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
                    <form name="login" action="$(link-login-only)" method="post" onsubmit="return tryLogin()">
                        <input type="hidden" name="dst" value="$(link-orig)">
                        <input type="hidden" name="popup" value="true">
                        <input type="hidden" name="password">

                        <input type="text" name="username" id="code-input" class="neon-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ÙƒØ±Øª Ù‡Ù†Ø§" autocomplete="off" required>
                        <button type="submit" class="btn-main" id="login-btn">Ø§ØªØµØ§Ù„</button>
                    </form>
                    <div class="mini-slider">
                        <div class="slide-txt active">ğŸš€ Ø£Ø³Ø±Ø¹ Ø§Ù†ØªØ±Ù†Øª ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</div>
                        <div class="slide-txt">ğŸ’ Ø¨Ø§Ù‚Ø§Øª ØªÙ†Ø§Ø³Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª</div>
                        <div class="slide-txt">ğŸ® Ø¨ÙŠÙ†Ø¬ Ù…Ù†Ø®ÙØ¶ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
                    </div>
                    $(endif)
                </div>

                <!-- Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙÙŠÙ‡ ÙÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
                <a href="http://10.10.10.10" class="ent-banner">
                    <div class="ent-icon">ğŸ¬</div>
                    <div class="ent-info">
                        <h4>Ù…Ø±ÙƒØ² Ø§Ù„ØªØ±ÙÙŠÙ‡</h4>
                        <p>Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø£ÙÙ„Ø§Ù… ÙˆØ§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù…Ø¬Ø§Ù†Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Ù†Øª</p>
                    </div>
                    <div style="margin-right:auto; color:var(--primary);">â”</div>
                </a>
            </section>

            <!-- 2. ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª (Ø§Ù„ÙƒØ±ÙˆØª) -->
            <section id="page-plans" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center;">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h3>
                <div class="plans-grid" id="plans-container">
                    <!-- JS Generated -->
                </div>
            </section>

            <!-- 3. ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª -->
            <section id="page-help" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center;">ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>
                <div class="info-card">
                    <div class="info-title">ğŸ’¡ ÙƒÙŠÙ Ø£ØªØµÙ„ Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©ØŸ</div>
                    <div class="step-row">
                        <div class="step-num">1</div>
                        <div class="info-text">ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø´Ø¨ÙƒØ© Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ TIMENET ÙˆØ¸Ù‡ÙˆØ± ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„.</div>
                    </div>
                    <div class="step-row">
                        <div class="step-num">2</div>
                        <div class="info-text">Ù‚Ù… Ø¨Ø´Ø±Ø§Ø¡ ÙƒØ±Øª Ù…Ù† Ø£Ø­Ø¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©.</div>
                    </div>
                    <div class="step-row">
                        <div class="step-num">3</div>
                        <div class="info-text">Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŒ Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹ ÙˆØ§Ø¶ØºØ· "Ø§ØªØµØ§Ù„".</div>
                    </div>
                </div>
                <div class="info-card">
                    <div class="info-title">ğŸ”’ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø±ØµÙŠØ¯</div>
                    <div class="info-text">Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„ØªØµÙØ­ØŒ Ø£Ùˆ Ø£Ø·ÙØ¦ Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ ÙÙŠ Ø¬Ù‡Ø§Ø²Ùƒ.</div>
                </div>
            </section>

            <!-- 4. ØªØ¨ÙˆÙŠØ¨ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ -->
            <section id="page-loc" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center;">Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ²ÙŠØ¹</h3>
                <div class="info-card">
                    <div class="info-title">ğŸ“ Ø§Ù„Ø¨Ù‚Ø§Ù„Ø§Øª ÙˆØ§Ù„Ø³ÙˆØ¨Ø±Ù…Ø§Ø±ÙƒØª</div>
                    <ul style="list-style: none; padding-right: 10px; color: #ddd; font-size: 0.9rem; line-height: 2;">
                        <li>â€¢ Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø§Ù„Ø®ÙŠØ± - Ø§Ù„Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¹Ø§Ù…</li>
                        <li>â€¢ Ø¨Ù‚Ø§Ù„Ø© Ø§Ù„Ø£Ù…Ø§Ù†Ø© - Ø¬ÙˆØ§Ø± Ø§Ù„Ù…Ø³Ø¬Ø¯</li>
                        <li>â€¢ Ù…Ø±ÙƒØ² Ø§Ù„ØªÙˆÙÙŠØ± - Ø§Ù„Ø­Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©</li>
                    </ul>
                </div>
                <div class="info-card">
                    <div class="info-title">ğŸ“± Ù…Ø­Ù„Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„Ø§Øª</div>
                    <ul style="list-style: none; padding-right: 10px; color: #ddd; font-size: 0.9rem; line-height: 2;">
                        <li>â€¢ Ø¹Ø§Ù„Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© - Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ</li>
                        <li>â€¢ ØªÙˆØ¨ ÙÙˆÙ† - ØªÙ‚Ø§Ø·Ø¹ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</li>
                    </ul>
                </div>
            </section>

            <!-- 5. ØªØ¨ÙˆÙŠØ¨ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ -->
            <section id="page-contact" class="tab-page">
                <h3 style="margin-bottom: 15px; text-align: center;">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
                <div class="info-card" style="text-align: center;">
                    <p style="margin-bottom: 15px; color: var(--text-dim);">Ù†Ø³Ø¹Ø¯ Ø¨Ø®Ø¯Ù…ØªÙƒÙ… Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± 24 Ø³Ø§Ø¹Ø©</p>
                    <a href="tel:777019176" class="contact-btn">ğŸ“ Ø§ØªØµÙ„ Ø¨Ù†Ø§: 777019176</a>
                    <a href="https://wa.me/967777019176" class="contact-btn wa">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¨Ø§Ø´Ø±</a>
                    <div style="margin-top: 20px; font-size: 0.8rem; color: #555;">
                        TIMENET &copy; 2026
                    </div>
                </div>
            </section>

        </div>

        <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ -->
        <nav class="bottom-nav">
            <div class="nav-item" onclick="switchTab('page-contact', this)">
                <svg viewBox="0 0 24 24"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.28-.26.36-.65.25-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 12h2a9 9 0 0 0-9-9v2c3.87 0 7 3.13 7 7zm-4 0h2c0-2.76-2.24-5-5-5v2c1.66 0 3 1.34 3 3z"/></svg>
                <span>ØªÙˆØ§ØµÙ„</span>
            </div>
            
            <div class="nav-item" onclick="switchTab('page-loc', this)">
                <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                <span>Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹</span>
            </div>

            <!-- Ø§Ù„Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ø§Ù„ÙˆØ³Ø· -->
            <div class="nav-item main-home active" onclick="switchTab('page-home', this)">
                <div class="circle">
                    <svg viewBox="0 0 24 24" style="width:28px; height:28px; margin:0;"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                </div>
            </div>

            <div class="nav-item" onclick="switchTab('page-plans', this)">
                <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/></svg>
                <span>Ø§Ù„ÙƒØ±ÙˆØª</span>
            </div>

            <div class="nav-item" onclick="switchTab('page-help', this)">
                <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>
                <span>ØªØ¹Ù„ÙŠÙ…Ø§Øª</span>
            </div>
        </nav>

    </div>

    <!-- Ù…ÙŠÙƒØ±ÙˆØªÙƒ ÙÙˆØ±Ù… Ù…Ø®ÙÙŠ -->
    <form name="sendin" action="$(link-login-only)" method="post" style="display:none">
        <input type="hidden" name="username" />
        <input type="hidden" name="password" />
        <input type="hidden" name="dst" value="$(link-orig)" />
        <input type="hidden" name="popup" value="true" />
    </form>

    <script>
        // --- 1. Background Animation ---
        const canvas = document.getElementById('cosmic-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, stars = [];
        
        function initC() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; stars=[]; for(let i=0;i<50;i++) stars.push({x:Math.random()*w, y:Math.random()*h, r:Math.random()*2, s:Math.random()*0.5+0.1}); }
        function animC() {
            ctx.clearRect(0,0,w,h);
            var g=ctx.createLinearGradient(0,0,0,h); g.addColorStop(0,'#0f0c29'); g.addColorStop(1,'#24243e'); ctx.fillStyle=g; ctx.fillRect(0,0,w,h);
            ctx.fillStyle='#fff';
            stars.forEach(s=>{ ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,6.28); ctx.fill(); s.y-=s.s; if(s.y<0) s.y=h; });
            requestAnimationFrame(animC);
        }
        window.onresize=initC; initC(); animC();

        // --- 2. Tab Logic ---
        function switchTab(pageId, navEl) {
            // Hide all pages
            document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update Nav Icons
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            if(navEl) navEl.classList.add('active');
        }

        // --- 3. Plans Data ---
        const plans = [
            { p: 100, t: "3 Ø³Ø§Ø¹Ø§Øª", mb: "300 MB", i: "ğŸ¥‰" },
            { p: 200, t: "7 Ø³Ø§Ø¹Ø§Øª", mb: "700 MB", i: "ğŸ¥ˆ" },
            { p: 500, t: "20 Ø³Ø§Ø¹Ø©", mb: "2 GB", i: "ğŸ¥‡" },
            { p: 1000, t: "50 Ø³Ø§Ø¹Ø©", mb: "4 GB", i: "ğŸ’ " },
            { p: 3000, t: "Ø´Ù‡Ø± ÙƒØ§Ù…Ù„", mb: "Ù…ÙØªÙˆØ­", i: "ğŸ‘‘" }
        ];

        function renderPlans() {
            const c = document.getElementById('plans-container');
            c.innerHTML = plans.map(p => `
                <div class="plan-item" onclick="fillCode('${p.p}')">
                    <div class="plan-left">
                        <div class="p-badge">${p.i}</div>
                        <div class="p-det">
                            <h4>${p.t}</h4>
                            <span>${p.mb}</span>
                        </div>
                    </div>
                    <div class="p-price">${p.p} <small style="font-size:0.8rem; color:#aaa;">Ø±.ÙŠ</small></div>
                </div>
            `).join('');
        }

        function fillCode(val) {
            // Switch to Home tab
            switchTab('page-home', document.querySelector('.main-home'));
            
            setTimeout(() => {
                const inp = document.getElementById('code-input');
                if(inp) {
                    inp.value = ""; 
                    inp.focus();
                    showToast("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ÙØ¦Ø© " + val + " - Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯");
                }
            }, 300);
        }

        // --- 4. Login Logic ---
        function tryLogin() {
            const u = document.login.username.value.trim();
            if(!u) { showToast("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯"); return false; }
            document.getElementById('login-btn').innerText = "...";
            if ("$(chap-id)" !== "") {
                document.sendin.username.value = u;
                document.sendin.password.value = hexMD5("$(chap-id)" + u + "$(chap-challenge)");
                document.sendin.submit();
                return false;
            }
            document.login.password.value = u;
            return true;
        }

        function showToast(m) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = m;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        // --- Init ---
        window.onload = () => {
            renderPlans();
            const err = "$(error)";
            if(err && err !== "$(error)") showToast(err);
            if(document.getElementById('code-input')) document.getElementById('code-input').focus();
        };

        // Mini Slider
        let sI = 0; const txts = document.querySelectorAll('.slide-txt');
        setInterval(()=>{
            txts[sI].classList.remove('active'); sI=(sI+1)%txts.length; txts[sI].classList.add('active');
        }, 4000);

    </script>
</body>
</html>
